#include <glm/glm.hpp>

#include "character_object.hpp"
#include "rectangle.hpp"

CharacterObject::CharacterObject() : Object(), Movable() {
  Shape * shape = new Rectangle(1.0,1.0);
  this->set_shape(shape);
  this->texture_uniform_container = new TextureUniformContainer();
  this->add_uniform_container(this->texture_uniform_container);
}

void CharacterObject::init(Texture2D * texture, GLsizei width, GLsizei rows, GLfloat xpos, GLfloat ypos,GLuint font_size_in_pixels) {
  this->texture_uniform_container->add_texture("character_texture",texture,0);
  this->set_scale(glm::vec3((GLfloat)width/font_size_in_pixels,(GLfloat)rows/font_size_in_pixels,1));
  this->set_position(glm::vec4(xpos/font_size_in_pixels,ypos/font_size_in_pixels,0,1));
  /*
  this->width = width;
  this->rows = rows;
  this->xpos = xpos;
  this->ypos = ypos;
  */
}
